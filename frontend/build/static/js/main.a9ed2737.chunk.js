(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{157:function(e,t,n){"use strict";n.r(t);var o,a=n(0),c=n.n(a),s=n(20),i=n.n(s),l=(n(69),n(70),n(61)),r=n(6),u=n(18),g=(n(71),n(26)),d=n.n(g),p=(n(90),n(5)),m=[],j=[],f=[],h=[];var w=function(e){function t(e,t){for(var n=[],a=0;a<360;a+=60){var c=window.google.maps.geometry.spherical.computeOffset(t,e,a);n.push(c)}new window.google.maps.Polygon({paths:n,strokeColor:"#FFFF00",strokeOpacity:.8,strokeWeight:2,fillColor:"#F8FCFC",fillOpacity:.1}).setMap(o)}function n(e){new window.google.maps.Marker({position:e,map:o}),function(e){var t,n;t=e.lat(),n=e.lng(),f.push(t),h.push(n)}(e)}Object(a.useEffect)((function(){if(e.hexagon){var a=1e3*e.radius,c=a/Math.sqrt(3);n(new window.google.maps.LatLng(e.lat,e.lng)),function(t){for(var a=30;a<390;a+=60){var c=window.google.maps.geometry.spherical.computeOffset(new window.google.maps.LatLng(e.lat,e.lng),t,a);m.push(c),n(c)}new window.google.maps.Polygon({paths:m,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:3,fillColor:"#F8FCFC",fillOpacity:.2}).setMap(o)}(a),function(e){for(var n=0;n<6;n++)t(e,m[n])}(c),function(t){for(var a=30;a<390;a+=60){var c=window.google.maps.geometry.spherical.computeOffset(new window.google.maps.LatLng(e.lat,e.lng),t,a);j.push(c),n(c)}new window.google.maps.Polygon({paths:j,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:3,fillColor:"#F8FCFC",fillOpacity:.2}).setMap(o)}(2*a),function(e){for(var o=0;o<6;o++)t(e,j[o]);for(var a=0;a<6;a++){var c=window.google.maps.geometry.spherical.interpolate(j[a],j[(a+1)%6],.5);n(c),t(e,c),j.push(c)}}(c),o.panTo(new window.google.maps.LatLng(e.lat,e.lng)),o.setZoom(11),d.a.post("/getlati",{latikey:f}).then((function(e){console.log(e)})).catch((function(e){window.alert(e)})),console.log("lat",f),console.log(h),d.a.post("/getlongi",{longikey:h}).then((function(t){e.setStatus(2),console.log(t)})).catch((function(e){window.alert(e)}))}}),[e.hexagon]);var c=function(){o=new window.google.maps.Map(document.getElementById("map"),{center:new window.google.maps.LatLng(23,78),zoom:10,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1})},s=function(){!function(e){var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.defer=!0,t.parentNode.insertBefore(n,t)}("https://maps.googleapis.com/maps/api/js?libraries=geometry&callback=initMap"),window.initMap=c};return Object(a.useEffect)((function(){s()}),[]),Object(p.jsx)("div",{id:"map",className:"map"})},b=n(57),O=n.n(b),x=n(45),v=n.n(x),y=(n(92),n(60)),C=n.n(y),F=n.p+"static/media/hexagonal.f7c86d98.png",k=n(93),D=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),l=i[0],r=i[1],g=Object(a.useState)(""),m=Object(u.a)(g,2),j=m[0],f=m[1],h=Object(a.useState)(!1),b=Object(u.a)(h,2),x=b[0],y=b[1],D=Object(a.useState)(new Date("2021-05-29")),N=Object(u.a)(D,2),L=N[0],S=N[1],E=Object(a.useState)(new Date("2021-05-30")),M=Object(u.a)(E,2),P=M[0],B=M[1],T=Object(a.useState)(0),q=Object(u.a)(T,2),A=q[0],I=q[1],W=function(e){r(e.coords.latitude),f(e.coords.longitude)},z=function(e){console.log(e)},H=function(e){var t=e.target,n=t.name,o=t.value;"radius"===n?c(o):"lat"===n?r(o):"lng"===n&&f(o)};return Object(p.jsxs)("div",{className:"home",children:[Object(p.jsx)(w,{radius:o,lat:l,lng:j,hexagon:x,setStatus:I}),Object(p.jsx)("div",{className:"form-page",children:Object(p.jsxs)("div",{className:"form",children:[Object(p.jsxs)("div",{class:"login-header",children:["HexGrid ",Object(p.jsx)("img",{style:{height:"1.4rem",width:"1.4rem"},src:F,alt:""})]}),Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{className:"group",children:Object(p.jsx)("input",{type:"text",name:"radius",value:o,placeholder:"Enter radius",onChange:H,required:!0})}),Object(p.jsx)("div",{className:"group",children:Object(p.jsx)("input",{type:"text",name:"lat",value:l,placeholder:"Enter latitude",onChange:H,required:!0})}),Object(p.jsxs)("div",{className:"group",children:[Object(p.jsx)("input",{type:"text",name:"lng",value:j,placeholder:"Enter Longitude",onChange:H,required:!0}),Object(p.jsxs)("div",{className:"location-button",children:[Object(p.jsx)(O.a,{onClick:function(){navigator.geolocation.getCurrentPosition(W,z,{maximumAge:3e3,timeout:5e3,enableHighAccuracy:!0})},style:{cursor:"pointer"}}),"Click to set current location"]})]}),Object(p.jsx)("div",{className:"group",children:Object(p.jsx)(v.a,{selected:L,selectsStart:!0,startDate:L,endDate:P,minDate:new Date("1981-01-03"),maxDate:new Date("2021-05-29"),onChange:function(e){S(e)}})}),Object(p.jsx)("div",{className:"group",children:Object(p.jsx)(v.a,{selected:P,selectsEnd:!0,startDate:L,endDate:P,minDate:new Date(L.getFullYear(),L.getMonth(),L.getDate()+1),maxDate:new Date("2021-05-30"),onChange:function(e){return B(e)}})}),Object(p.jsx)("div",{className:"group",children:0===A?Object(p.jsx)("button",{onClick:function(e){e.preventDefault(),d.a.post("/submit",{start_date:L,end_date:P}).then((function(e){console.log(e)})).catch((function(e){window.alert("error")})),I(1),y(!0)},className:"button",children:"Submit data!"}):1===A?Object(p.jsx)("div",{className:"loader",children:Object(p.jsx)(C.a,{size:15})}):Object(p.jsx)("button",{className:"button",onClick:function(e){e.preventDefault(),d.a.get("/download").then((function(e){k(e.data,"correlation.csv"),console.log(e)})).catch((function(e){console.log(e)})),window.location.reload(!0)},children:"Download data!"})})]})]})})]})};var N=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(r.a,{path:"/",exact:!0,component:D}),Object(p.jsx)(r.a,{path:"/map",exact:!0,component:w})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),c(e),s(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),L()},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},90:function(e,t,n){}},[[157,1,2]]]);
//# sourceMappingURL=main.a9ed2737.chunk.js.map