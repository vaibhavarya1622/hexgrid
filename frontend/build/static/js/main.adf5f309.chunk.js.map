{"version":3,"sources":["components/Map/Map.js","components/Home/Home.js","App.js","reportWebVitals.js","index.js"],"names":["map","hexapts","hexaptsout","lattosave","longtosave","IndexMap","props","makehexagon","rad","pt","points","angle","coord","window","google","maps","geometry","spherical","computeOffset","push","Polygon","paths","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","setMap","markpt","Marker","position","lati","longi","lat","lng","generate","useEffect","hexagon","radius","radii","Math","sqrt","LatLng","markhexagon","i","hexagonoverlay","markouthexagon","c","interpolate","outhexagonoverlay","panTo","setZoom","axios","post","latikey","then","res","console","log","catch","err","longikey","setStatus","initMap","Map","document","getElementById","center","zoom","mapTypeControl","streetViewControl","fullscreenControl","renderMap","url","index","getElementsByTagName","script","createElement","src","async","defer","parentNode","insertBefore","loadScript","id","className","FileDownload","require","Home","useState","setRadius","setLat","setLng","setHexagon","Date","startDate","setStartDate","endDate","setEndDate","status","onSuccess","pos","coords","latitude","longitude","onError","error","handleInput","e","target","name","value","class","type","placeholder","onChange","onClick","navigator","geolocation","getCurrentPosition","maximumAge","timeout","enableHighAccuracy","style","cursor","selected","selectsStart","date","selectsEnd","minDate","preventDefault","start_date","end_date","response","size","get","data","location","reload","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.adf5f309.chunk.js","sourcesContent":["import React, {useEffect} from \"react\";\nimport axios from 'axios'\nimport './custom.css'\n\nlet map\nlet hexapts=[]\nvar hexaptsout = [];\nvar lattosave = [];\nvar longtosave = [];\n\nconst IndexMap =(props)=> {\nfunction generate(pt) {\n  var lati;\n  var longi;\n  lati = 0;\n  longi = 0;\n  lati = pt.lat();\n  longi = pt.lng();\n  lattosave.push(lati);\n  longtosave.push(longi);\n  return;\n\n}\nfunction makehexagon(rad, pt) {\n  var points = [];\n  for (var angle = 0; angle < 360; angle += 60) {\n      var coord = window.google.maps.geometry.spherical.computeOffset(\n          pt,\n          rad,\n          angle\n      );\n      points.push(coord);\n  }\n\n  // Construct the polygon\n  var polygon = new window.google.maps.Polygon({\n      paths: points,\n      strokeColor: \"#FFFF00\",\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: \"#F8FCFC\",\n      fillOpacity: 0.1,\n  });\n  polygon.setMap(map);\n}\nfunction markpt(coord) {\n  new window.google.maps.Marker({\n      position: coord,\n      map: map\n  });\n  generate(coord);\n}\nfunction hexagonoverlay(rad) {\n  for (var i = 0; i < 6; i++) {\n      var b = hexapts[i];\n      makehexagon(rad, b);\n  }\n}\n\nfunction markouthexagon(rad) {\n  for (var angle = 30; angle < 390; angle += 60) {\n      var coord = window.google.maps.geometry.spherical.computeOffset(\n          new window.google.maps.LatLng(props.lat,props.lng),\n          rad,\n          angle\n      );\n      hexaptsout.push(coord);\n      markpt(coord);\n\n  }\n  var polygon = new window.google.maps.Polygon({\n      paths: hexaptsout,\n      strokeColor: \"#FF0000\",\n      strokeOpacity: 0.8,\n      strokeWeight: 3,\n      fillColor: \"#F8FCFC\",\n      fillOpacity: 0.2,\n  });\n  polygon.setMap(map);\n}\n//outer hexagon overlay\nfunction outhexagonoverlay(radii) {\n  for (let i = 0; i < 6; i++) {\n      var b = hexaptsout[i];\n      makehexagon(radii, b);\n  }\n  for (let i = 0; i < 6; i++) {\n      var c = window.google.maps.geometry.spherical.interpolate(\n          hexaptsout[i],\n          hexaptsout[(i + 1) % 6],\n          0.5\n      );\n      markpt(c)\n      makehexagon(radii, c);\n      hexaptsout.push(c);\n  }\n}\nfunction markhexagon(rad) {\n  for (var angle = 30; angle < 390; angle += 60) {\n      var coord = window.google.maps.geometry.spherical.computeOffset(\n          new window.google.maps.LatLng(props.lat,props.lng),\n          rad,\n          angle\n      );\n      hexapts.push(coord);\n      markpt(coord);\n  }\n  var polygon = new window.google.maps.Polygon({\n      paths: hexapts,\n      strokeColor: \"#FF0000\",\n      strokeOpacity: 0.8,\n      strokeWeight: 3,\n      fillColor: \"#F8FCFC\",\n      fillOpacity: 0.2,\n  });\n  polygon.setMap(map);\n}\n\nuseEffect(()=>{\n  if(props.hexagon){\n    var radius=props.radius*1000;\n    var radii=radius/Math.sqrt(3)\n    markpt(new window.google.maps.LatLng(props.lat,props.lng))\n    markhexagon(radius)\n    hexagonoverlay(radii);\n    markouthexagon((2 * radius));\n    outhexagonoverlay(radii);\n    map.panTo(new window.google.maps.LatLng(props.lat,props.lng))\n    map.setZoom(11)\n    axios.post('/getlati',{\n      latikey:lattosave\n    })\n    .then((res)=>{\n      console.log(res)\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n    console.log('lat',lattosave)\nconsole.log(longtosave)\n    axios.post('/getlongi',{\n      longikey:longtosave\n    })\n    .then(res=>{\n  props.setStatus(2)\n      console.log(res)\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n  }\n},[props.hexagon])\n\nconst initMap=()=>{\n  map = new window.google.maps.Map(document.getElementById(\"map\"), {\n    center:new window.google.maps.LatLng(23,78),\n      zoom: 10,\n      mapTypeControl: false,\n      streetViewControl:false,\n      fullscreenControl:false,\n    })\n}\nconst renderMap = () => {\n  loadScript(\n    \"https://maps.googleapis.com/maps/api/js?libraries=geometry&callback=initMap\"\n  );\n  window.initMap = initMap;\n}\nuseEffect(()=>{\n  renderMap()\n},[])\nreturn (\n<div id=\"map\" className=\"map\"></div>\n)\n}\nfunction loadScript(url) {\n  var index = window.document.getElementsByTagName(\"script\")[0];\n  var script = window.document.createElement(\"script\");\n  script.src = url;\n  script.async = true;\n  script.defer = true;\n  index.parentNode.insertBefore(script, index);\n}\nexport default IndexMap;","import React,{useState} from 'react'\nimport './custom.css'\nimport MapContainer from './../Map/Map'\nimport axios from 'axios'\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport PropagateLoader from 'react-spinners/PropagateLoader'\nconst FileDownload=require('js-file-download')\n\nconst Home=(props)=>{\n    const [radius,setRadius]=useState(\"\")\n    const [lat,setLat]=useState(\"\")\n    const [lng,setLng]=useState(\"\")\n    const [hexagon,setHexagon]=useState(false)\n    const [startDate,setStartDate]=useState(new Date())\n    const [endDate,setEndDate]=useState(new Date())\n    const [status,setStatus]=useState(0)\n\n    const myLocation=()=>{\n      var options = { maximumAge: 3000, timeout: 5000, enableHighAccuracy: true };//check if we don't get location in 30 seconds\n      var watchID = navigator.geolocation.getCurrentPosition(onSuccess, onError, options);\n  }\n  \n  const onSuccess=(pos)=>{\n      setLat(pos.coords.latitude)\n      setLng(pos.coords.longitude)\n  }\n  \n  const onError=(error)=>{\n      console.log(error)\n  }\n    const handleInput=(e)=>{\n      const {name,value}=e.target\n      if(name==='radius'){\n        setRadius(value)\n      }\n      else if(name==='lat'){\n        setLat(value)\n      }\n      else if(name==='lng'){\n        setLng(value)\n      }\n    }\n    \n    const handleSubmit=(e)=>{\n        e.preventDefault()\n        axios.post('/submit',{\n          start_date:startDate,\n          end_date:endDate\n        })\n        .then(response=>{\n          console.log(response)\n        })\n        .catch(error=>{\n          console.log(error)\n        })\n        setStatus(1)\n        setHexagon(true)\n      }\n    const handleDownload=(e)=>{\n      e.preventDefault();\n      axios.get('/download')\n      .then(response=>{\n        FileDownload(response.data,'correlation.csv')\n      })\n      .catch(error=>{\n        console.log(error)\n      })\n      window.location.reload(true)\n    }\n      return(\n        <div className='home'>\n        <MapContainer \n        radius={radius}\n        lat={lat}\n        lng={lng}\n        hexagon={hexagon}\n        setStatus={setStatus}\n        />\n        <div className='form-page'>\n          <div className=\"form\">\n              <div class=\"login-header\">\n                  My Web App\n              </div>\n            <form>\n              <div className=\"group\">\n                <input\n                type=\"text\"\n                name=\"radius\"\n                value={radius}\n                placeholder=\"Enter radius\" \n                onChange={handleInput}\n                />\n              </div>\n              <div className=\"group\">\n                <input\n                type=\"text\"\n                name=\"lat\"\n                value={lat}\n                placeholder=\"Enter latitude\"\n                onChange={handleInput}\n                 />\n              </div>\n              <div className=\"group\">\n                <input\n                type=\"text\"\n                name=\"lng\"\n                value={lng}\n                placeholder=\"Enter Longitude\"\n                onChange={handleInput}\n                />\n                <div className='location-button'>\n                 <LocationOnIcon onClick={()=>myLocation()} style={{cursor:'pointer'}} />\n                 Click to set current location\n                </div>\n              </div>\n              <div className='group'>\n                <DatePicker\n                selected={startDate}\n                selectsStart\n                startDate={startDate}\n                endDate={endDate}\n                onChange={date => {setStartDate(date); console.log(startDate)}}\n                />\n              </div>\n              <div className='group'>\n                <DatePicker\n                  selected={endDate}\n                  selectsEnd\n                  startDate={startDate}\n                  endDate={endDate}\n                  minDate={startDate}\n                  onChange={date => setEndDate(date)}\n                />\n              </div>\n              <div className='group'>\n                {\n                  (status===0)?\n                    <button onClick={handleSubmit} className=\"button\">Submit data!</button>\n                  :(status===1)?\n                    <div className='loader'><PropagateLoader size={15}/></div>\n                  :\n              <button  className=\"button\" onClick={handleDownload}>Download data!</button>\n                  }\n              </div>\n            </form>\n          </div>\n          </div>\n        </div>\n        )\n    }\n  export default Home;","import React from 'react';\nimport './App.css'\nimport {BrowserRouter as Router,Route} from \"react-router-dom\";\nimport Home from './components/Home/Home'\nimport Map from './components/Map/Map'\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n      <Route path='/' exact component={Home} />\n      <Route path='/map' exact component={Map} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}